<?php

/**
 * @file
 * Helper functions.
 */

module_load_include("inc", "novo_reports", "includes/novo_reports.func");
module_load_include("inc", "novo_reports", "includes/novo_reports.handlers_func");
module_load_include("inc", "novo_reports", "includes/novo_reports.preprocess");
module_load_include("inc", "novo_reports", "includes/novo_reports.enrollments");
module_load_include("inc", "novo_reports", "includes/novo_reports.general_report");

/**
 * Implements hook_menu().
 */
function novo_reports_menu() {
  $items = [];

  $items['novo-reports'] = [
    'title' => 'Reports',
    'access arguments' => ['novo reports access'],
    'page callback' => 'novo_reports_list',
    'menu_name' => 'main-menu',
    'type' => MENU_NORMAL_ITEM,
  ];

  $items['enrollment-report'] = [
    'title' => 'Enrollment report',
    'access callback' => novo_reports_reports_access(),
    'page callback' => 'novo_reports_enrollment_report',
    'type' => MENU_NORMAL_ITEM,
  ];

  $items['general-report'] = [
    'title' => 'General report',
    'access callback' => novo_reports_reports_access(),
    'page callback' => 'novo_reports_general_report',
    'type' => MENU_NORMAL_ITEM,
  ];

  $items['novo-reports/test'] = [
    'title' => 'Test',
    'access callback' => TRUE,
    'page callback' => 'novo_reports_test',
    'type' => MENU_CALLBACK,
  ];

  return $items;
}

/**
 * Implements hook_theme().
 */
function novo_reports_theme() {
  return [
    'novo_reports_nametag_kid' => [
      'variables' => ['data' => NULL],
      'template' => 'templates/novo-reports-nametag-kid',
    ],
  ];
}

/**
 * Implements hook_permission().
 */
function novo_reports_permission() {
  return [
    'novo reports access' => [
      'title' => t('Novo access to reports.'),
      'description' => t('Novo access to reports.'),
    ],
  ];
}

/**
 * Implements hook_views_api().
 */
function novo_reports_views_api() {
  return [
    'api' => 3,
    'path' => drupal_get_path('module', 'novo_reports') . '/views',
  ];
}

/**
 * Implements hook_views_pre_render().
 */
function novo_reports_views_pre_render(&$view) {
  if (isset($view->live_preview) && $view->live_preview) {
    return TRUE;
  }

  if ($view->name == 'enrollment_report') {
    $tmp_result = [];
    foreach ($view->result as $key => $row) {
      $tmp_result[$row->field_data_field_program_location_field_program_location_tar][] = $row;
    }

    foreach ($tmp_result as $loc_id => $rows) {
      $count = 0;
      foreach ($rows as $key => $row) {
        $count += $row->field_data_field_program_kids_list_field_program_kids_list_v;
      }
      $total_row = clone $row;
      $total_row->nid = "total-label";
      $total_row->node_title = t("Total");
      $total_row->field_data_field_program_kids_list_field_program_kids_list_v = $count;
      $tmp_result[$loc_id][] = $total_row;
    }

    $new_result = [];
    foreach ($tmp_result as $loc_id => $rows) {
      foreach ($rows as $key => $row) {
        $new_result[] = $row;
      }
    }

    $view->result = $new_result;
  }
}

function novo_reports_views_pre_view(&$view, &$display_id, &$args) {
  //  kpr($view);
  //  kpr($display_id);
  //  kpr($args);
}

function novo_reports_views_post_render(&$view, &$output, &$cache) {
  //  kpr($view);
  //  kpr($output);
  //  kpr($cache);
}

/**
 * Implements hook_preprocess_views_data_export_pdf_header().
 */
function novo_reports_preprocess_views_data_export_pdf_header(&$vars) {
  if ($vars['view']->name == "report_nametag") {
    $vars['header_row'] = "";
  }
}

/**
 * Implements hook_preprocess_views_view_table().
 */
function novo_reports_preprocess_views_view_table(&$vars) {
  switch ($vars['view']->name) {
    case "roster_report":
      foreach ($vars['rows'] as $row_id => &$row) {
        if (isset($row['views_conditional_2']) && !empty($row['views_conditional_2'])) {
          $color = novo_reports_get_group_color_value($vars['result'][$row_id], "field_p_canvassing_group");

          if (!empty($color)) {
            $row['views_conditional_2'] = '<div style="background: ' . $color . '">' . $row['views_conditional_2'] . '</div>';
          }
        }
      }
      break;

//    case "report_general":
//      novo_reports_preprocess_views_view_table_report_general($vars);
//      break;
  }

}

/**
 * Implements hook_preprocess_views_view_field().
 */
function novo_reports_preprocess_views_view_field(&$vars) {
  if ($vars['view']->name == "roster_report" && $vars['field']->field == "field_p_canvassing_group") {

    $field_field = "field_" . $vars['field']->field;
    $color = novo_reports_get_group_color_value($vars['row'], $vars['field']->field);

    $vars['row']->{$field_field}[0]['rendered'] = [
      "#markup" => $color,
    ];

    $vars['output'] = $color;
  }
}

/**
 * Implements hook_preprocess_views_data_export_pdf_body().
 */
function novo_reports_preprocess_views_data_export_pdf_body(&$vars) {

  $colored_fields = [
    "field_p_small_group",
    "field_p_canvassing_group",
  ];

  foreach ($colored_fields as $field) {
    foreach ($vars['themed_rows'] as $row_id => &$row) {
      if (isset($row[$field]) && !is_array($row[$field])) {

        $raw_row = (isset($vars['rows'][$row_id])) ? $vars['rows'][$row_id] : NULL;
        $color = novo_reports_get_group_color_value($raw_row, $field);
        $row[$field] = [
          "data" => strip_tags($row[$field]),
          "style" => "background:$color;",
        ];
      }
    }
  }

  switch ($vars['view']->name) {
    case "roster_report":
      novo_reports_preprocess_body_roster_report($vars);
      break;

    case "canvassing_report":
      novo_reports_preprocess_body_canvassing_report($vars);
      break;

    case "report_nametag":
      novo_reports_preprocess_body_report_nametag($vars);
      break;

  }
}

/**
 * Preprocess views_data_export_pdf_theader.
 */
function novo_reports_preprocess_views_data_export_pdf_theader(&$vars) {
  switch ($vars['view']->name) {
    case "canvassing_report":
      novo_reports_preprocess_theader_canvassing_report($vars);
      break;
  }
}

/**
 * Render field for reports.
 */
function novo_reports_render_field_for_report($row, $field) {
  return isset($row->{$field}[0]['rendered']) ? drupal_render($row->{$field}[0]['rendered']) : '';
}

/**
 * Render field for reports.
 */
function novo_reports_render_field_for_report_color($row, $field) {
  $color = novo_reports_get_group_color_value($row, $field);

  return isset($row->{"field_" . $field}[0]['raw']['entity']->name) ? '<div style="color:' . $color . '">' . $row->{"field_" . $field}[0]['raw']['entity']->name . '</div>' : '';
}

/**
 * Implements hook_views_data_export_wkhtmltopdf_options_alter().
 */
function novo_reports_views_data_export_wkhtmltopdf_options_alter(&$options, $plugin) {
  if (isset($plugin->view->name) && $plugin->view->name == "report_nametag") {
    $options[] = "disable-smart-shrinking";
  }
}

/**
 * Implements hook_views_bulk_operations_form_alter().
 */
function novo_reports_views_bulk_operations_form_alter(&$form, &$form_state, $vbo) {
  if ($vbo->view->name == "report_nametag") {
    // Theme VBO button and add clone btn to footer of view.
    $form['select']['#attributes']['class'][] = 'novo-report--nametag-vbo-operation-wrapper';
    $form['select']['action::views_bulk_operations_argument_selector_action']['#value'] = '<i class="fa fa-print" aria-hidden="true"></i> ' . $form['select']['action::views_bulk_operations_argument_selector_action']['#value'];
    $form['select2'] = $form['select'];
    $form['select2']['#weight'] = 100;
  }
}

/**
 * Enrollment report access callback.
 */
function novo_reports_reports_access() {
  $role = user_role_load_by_name('Siteadmin');
  return (user_has_role($role->rid)) ? TRUE : FALSE;
}

/**
 * Test.
 */
function novo_reports_test() {
  return "test";
  $html = '<html>
<head>
    <title>Repeating Table Headers on Each Page</title>
    <style type="text/css">
      td{border:1px solid #9d9ea5;}
      thead th {
        background:#c9c9c9;
        font-weight:bold;
      }
      table {
        font-size: 10px;
        page-break-after:right;
      }
            
     
    </style>
</head>
<body>

<div class="group-title"><strong> Forest Creek Apartments</strong></div>
<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <thead><tr><th>Name</th><th>Age</th><th>Group</th><th>Parent / Guardian / Phone</th><th>Address</th><th>Apt #</th><th>Alone</th><th>Picked Up</th><th>Walked</th></tr></thead>    <tbody>
 <tr class="odd"><td>Melly (Mellisa) Flake</td><td>19</td><td style="background:#F83A22;">

            
        Red 2      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Ammy</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Abigile</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (Parent)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">324-324-3243</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">342-532-4523</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">asdf</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">asdf</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (Mother)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">423-453-2453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">sadgfdsafg</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even"> asdfsdf</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">324-523-4523</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Grace Lohan</td><td></td><td style="background:#FBE983;">

            
        Yellow 3      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Lindsey</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Lohan</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">113-232-5345</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>kid 1 address</td><td>12</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Mich (Michael) Jordan</td><td>30</td><td style="background:#FBE983;">

            
        Yellow 2      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Jessy</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Jordan</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (mother)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">345-345-6546</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>NY</td><td>764</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Ammy (Amanda) Watson</td><td>30</td><td style="background:#FBE983;">

            
        Yellow 3      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td></td><td></td><td style="background:#FF7537;">Walked</td> </tr>
 <tr class="odd"><td>Star (Estrella) Robles</td><td>6</td><td style="background:#F83A22;">

            
        Red 1      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Silvia</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Robles</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">405-887-6323</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>South Independence A	</td><td>1800</td><td></td><td style="background:#EBD6B6;"><div style="background:#EBD6B6;">Picked Up</div></td><td></td> </tr>
  </tbody>
</table>

<div class="group-title"><strong> Ambassador Courts Apartments</strong></div>  


<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <thead><tr><th>Name</th><th>Age</th><th>Group</th><th>Parent / Guardian / Phone</th><th>Address</th><th>Apt #</th><th>Alone</th><th>Picked Up</th><th>Walked</th></tr></thead>    <tbody>
 <tr class="odd"><td>Ammy (Amanda) Watson</td><td>30</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Mich (Michael) Jordan</td><td>30</td><td style="background:#F83A22;">

            
        Red 1      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Jessy</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Jordan</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (mother)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">345-345-6546</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>NY</td><td>764</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Natalia Young</td><td>8</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Susan</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Young</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-574-4594</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Josephine</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Goolsby</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-574-3081</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Patience</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Young</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-919-8654</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Brian</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Foster</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-919-1512</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>7712 Lyrewood Ln</td><td>185</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Melly (Mellisa) Flake</td><td>19</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Ammy</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Abigile</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (Parent)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">324-324-3243</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">342-532-4523</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">asdf</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">asdf</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (Mother)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">423-453-2453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">sadgfdsafg</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even"> asdfsdf</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">324-523-4523</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Star (Estrella) Robles</td><td>6</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Silvia</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Robles</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">405-887-6323</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>South Independence A	</td><td>1800</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Ammy (Amanda) Watson</td><td>30</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Ammy (Amanda) Watson</td><td>30</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Star (Estrella) Robles</td><td>6</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Silvia</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Robles</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">405-887-6323</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>South Independence A	</td><td>1800</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Natalia Young</td><td>8</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Susan</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Young</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-574-4594</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Josephine</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Goolsby</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-574-3081</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Patience</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Young</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-919-8654</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Brian</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Foster</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-919-1512</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>7712 Lyrewood Ln</td><td>185</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Ammy (Amanda) Watson</td><td>30</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Star (Estrella) Robles</td><td>6</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Silvia</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Robles</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">405-887-6323</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>South Independence A	</td><td>1800</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Ammy (Amanda) Watson</td><td>30</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Natalia Young</td><td>8</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Susan</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Young</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-574-4594</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Josephine</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Goolsby</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-574-3081</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Patience</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Young</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-919-8654</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
<br><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Brian</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Foster</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">580-919-1512</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>7712 Lyrewood Ln</td><td>185</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="even"><td>Ammy (Amanda) Watson</td><td>30</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
 <tr class="odd"><td>Deundranae Dudley</td><td>15</td><td></td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Sherry</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Tuggle</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">405-404-3502</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>3829 Dunjee Boulevard</td><td>3</td><td style="background:#DECDDB;"><div style="background:#DECDDB;">Alone</div></td><td></td><td></td> </tr>
  </tbody>
</table>

<div class="group-title"><strong> Fred Factory Gardens Apartments</strong></div>  


<table border="0" cellpadding="5" cellspacing="0" width="100%">
  <thead><tr><th>Name</th><th>Age</th><th>Group</th><th>Parent / Guardian / Phone</th><th>Address</th><th>Apt #</th><th>Alone</th><th>Picked Up</th><th>Walked</th></tr></thead>    <tbody>
 <tr class="odd"><td>Ammy (Amanda) Watson</td><td>30</td><td style="background:#F83A22;">

            
        Red 1      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Emma</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Watson</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-relation field-type-text field-label-hidden">
        (sister)
  </div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">654-654-3543</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Work)
  </div>
  </div>
</div>
</div>
          <div class="field-item odd"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">543-534-3453</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Mobile)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>1736 South Phillips Avenue</td><td>1736 South Phillips Avenue</td><td></td><td></td><td style="background:#FF7537;">Walked</td> </tr>
 <tr class="even"><td>Star (Estrella) Robles</td><td>6</td><td style="background:#FBE983;">

            
        Yellow 3      
  

</td><td><div class="entity entity-field-collection-item field-collection-item-field-parent-guardian clearfix">
  <div class="content">
    <div class="field field-name-field-parent-guardian-first-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Silvia</div>
      </div>
</div>
<div class="field field-name-field-parent-guardian-last-name field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">Robles</div>
      </div>
</div>
<div class="field field-name-field-phone field-type-field-collection field-label-hidden">
    <div class="field-items">
          <div class="field-item even"><div class="entity entity-field-collection-item field-collection-item-field-phone clearfix">
  <div class="content">
    <div class="field field-name-field-phone-number field-type-text field-label-hidden">
    <div class="field-items">
          <div class="field-item even">405-887-6323</div>
      </div>
</div>
<div class="field field-name-field-phone-type field-type-taxonomy-term-reference field-label-hidden">
        (Fax)
  </div>
  </div>
</div>
</div>
      </div>
</div>
  </div>
</div>
</td><td>South Independence A	</td><td>1800</td><td></td><td style="background:#EBD6B6;"><div style="background:#EBD6B6;">Picked Up</div></td><td></td> </tr>
  </tbody>
</table>

  

<div style="position: static;"></div><div id="yinfo-badge"><style>@font-face{font-family:\'Yandex Sans Text Web-Bold\';src:url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Bold.eot\');src:url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Bold.eot?#iefix\') format(\'embedded-opentype\'),url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Bold.woff2\') format(\'woff2\'),url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Bold.woff\') format(\'woff\');font-weight:700;font-style:normal;font-stretch:normal}@font-face{font-family:\'Yandex Sans Text Web-Medium\';src:url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Medium.eot\');src:url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Medium.eot?#iefix\') format(\'embedded-opentype\'),url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Medium.woff2\') format(\'woff2\'),url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Medium.woff\') format(\'woff\');font-weight:700;font-style:normal;font-stretch:normal}@font-face{font-family:\'Yandex Sans Text Web-Regular\';src:url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Regular.eot\');src:url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Regular.eot?#iefix\') format(\'embedded-opentype\'),url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Regular.woff2\') format(\'woff2\'),url(\'https://yastatic.net/yobject/v2/_/fonts/Yandex Sans Text Web-Regular.woff\') format(\'woff\');font-weight:400;font-style:normal;font-stretch:normal}.yobject-doc_overflow_hidden{overflow:hidden}.yobject-doc_overflow_hidden body{height:auto}yobject{position:relative;display:inline;margin:0;padding:0;cursor:help;border-bottom:1px dotted #666}yobject.yobject-item_active_yes{background:#ffcd01}#yinfo-badge{position:absolute;overflow:visible;left:0;top:0}</style></div><div class="__disk_root__" style="position: static;"></div></body>
</html>';

  //pdf_using_mpdf_api($html, "test");

  $options = [
    'page_width' => 297,
    'page_height' => 210,
    'font_size' => 12,
  ];


  if (pdf_using_mpdf_library_exist() == TRUE) {
    _novo_reports_pdf_using_mpdf_generator($html, $options, "test");
  }
  else {
    drupal_set_message(t('No mPDF Library Found in "sites/all/libraries" or "!default_module_path". Please download PHP mPDF PDF generation tool from <a href="http://www.mpdf1.com/">mPDF1.com</a>', [
      '!default_module_path' => drupal_get_path('module', 'pdf_using_mpdf'),
    ]), 'warning');
  }


  return "xxx";
}

function _novo_reports_pdf_using_mpdf_generator($html, $options = [], $filename = NULL) {

  ini_set('Display_errors', 'On');
  error_reporting(E_ALL);

  // International Paper Sizes ( width x height).
  $paper_size = [
    '4A0' => ['w' => 1682, 'h' => 2378],
    '2A0' => ['w' => 1189, 'h' => 1682],
    'A0' => ['w' => 841, 'h' => 1189],
    'A1' => ['w' => 594, 'h' => 841],
    'A2' => ['w' => 420, 'h' => 594],
    'A3' => ['w' => 297, 'h' => 420],
    'A4' => ['w' => 210, 'h' => 297],
    'A5' => ['w' => 148, 'h' => 210],
    'A6' => ['w' => 105, 'h' => 148],
    'A7' => ['w' => 74, 'h' => 105],
    'A8' => ['w' => 52, 'h' => 74],
    'A9' => ['w' => 37, 'h' => 52],
    'A10' => ['w' => 26, 'h' => 37],

    'B0' => ['w' => 1000, 'h' => 1414],
    'B1' => ['w' => 707, 'h' => 1000],
    'B2' => ['w' => 500, 'h' => 707],
    'B3' => ['w' => 353, 'h' => 500],
    'B4' => ['w' => 250, 'h' => 353],
    'B5' => ['w' => 176, 'h' => 250],
    'B6' => ['w' => 125, 'h' => 176],
    'B7' => ['w' => 88, 'h' => 125],
    'B8' => ['w' => 62, 'h' => 88],
    'B9' => ['w' => 44, 'h' => 62],
    'B10' => ['w' => 31, 'h' => 44],

    'C0' => ['w' => 917, 'h' => 1297],
    'C1' => ['w' => 648, 'h' => 917],
    'C2' => ['w' => 458, 'h' => 648],
    'C3' => ['w' => 324, 'h' => 458],
    'C4' => ['w' => 229, 'h' => 324],
    'C5' => ['w' => 162, 'h' => 229],
    'C6' => ['w' => 114, 'h' => 162],
    'C7' => ['w' => 81, 'h' => 114],
    'C8' => ['w' => 57, 'h' => 81],
    'C9' => ['w' => 40, 'h' => 57],
    'C10' => ['w' => 28, 'h' => 40],

    'RA0' => ['w' => 860, 'h' => 1220],
    'RA1' => ['w' => 610, 'h' => 860],
    'RA2' => ['w' => 430, 'h' => 610],
    'SRA0' => ['w' => 900, 'h' => 1280],
    'SRA1' => ['w' => 640, 'h' => 900],
    'SRA2' => ['w' => 450, 'h' => 640],

    'Letter' => ['w' => 215.9, 'h' => 279.4],
    'Legal' => ['w' => 215.9, 'h' => 355.6],
    'Ledger' => ['w' => 279.4, 'h' => 431.8],
  ];

  $root_path = drupal_get_path('module', 'pdf_using_mpdf');
  $module_path = drupal_get_path('module', 'pdf_using_mpdf');
  global $theme_path;

  if (isset($options['page_width']) && isset($options['page_height'])) {
    $page_size = [$options['page_width'], $options['page_height']];
  }
  else {
    $page = variable_get('pdf_using_mpdf_pdf_page_size');
    $page_size = [$paper_size[$page]['w'], $paper_size[$page]['h']];
  }

  if (isset($options['font_size'])) {
    $font_size = $options['font_size'];
  }
  else {
    $font_size = variable_get('pdf_using_mpdf_pdf_font_size');
  }


  $font_style = variable_get('pdf_using_mpdf_pdf_default_font');

  // DEFAULT PDF margin Values.
  $margin_top = variable_get('pdf_using_mpdf_margin_top', 16);
  $margin_right = variable_get('pdf_using_mpdf_margin_right', 15);
  $margin_bottom = variable_get('pdf_using_mpdf_margin_bottom', 16);
  $margin_left = variable_get('pdf_using_mpdf_margin_left', 15);
  $margin_header = variable_get('pdf_using_mpdf_margin_header', 9);
  $margin_footer = variable_get('pdf_using_mpdf_margin_footer', 9);

  // Creating Instance of mPDF Class Library.
  $mpdf = new mPDF(
    '',
    $page_size,
    $font_size,
    $font_style,
    $margin_left,
    $margin_right,
    $margin_top,
    $margin_bottom,
    $margin_header,
    $margin_footer
  );

  // set document DPI
  $mpdf->dpi = (int) variable_get('pdf_using_mpdf_dpi', 96);

  // Set image DPI
  $mpdf->img_dpi = (int) variable_get('pdf_using_mpdf_img_dpi', 96);

  // Enabling header option if available.
  $header = variable_get('pdf_using_mpdf_pdf_header');
  if (isset($header) && $header != NULL) {
    $header = token_replace($header);
    $mpdf->SetHTMLHeader($header);
  }

  // Enabling Footer option if available.
  $footer = variable_get('pdf_using_mpdf_pdf_footer');
  if (isset($footer) && $footer != NULL) {
    $footer = token_replace($footer);
    $mpdf->SetHTMLFooter($footer);
  }

  // Setting Watermark Text to PDF.
  $watermark_option = variable_get('pdf_using_mpdf_watermark_option');
  $watermark_opacity = variable_get('pdf_using_mpdf_watermark_opacity');

  // For watermark Text.
  if ($watermark_option == 'text') {
    $text = variable_get('pdf_using_mpdf_pdf_watermark_text');
    if (isset($text) && $text != NULL) {
      $mpdf->SetWatermarkText($text, $watermark_opacity);
      $mpdf->showWatermarkText = TRUE;
    }
  }
  // For watermark Image.
  else {
    $image_id = variable_get('pdf_using_mpdf_watermark_image');
    if (isset($image_id) && $image_id != NULL) {
      // Load the file via file.fid.
      $file = file_load($image_id);
      if (is_object($file)) {
        $file->status = FILE_STATUS_PERMANENT;
        file_save($file);
        file_usage_add($file, 'pdf_using_mpdf', 'image', $image_id);

        $image_path = file_create_url($file->uri);
        $mpdf->SetWatermarkImage($image_path, $watermark_opacity, '', 'P');
        $mpdf->showWatermarkImage = TRUE;
      }
    }
  }

  // Setting Title to PDF.
  $title = variable_get('pdf_using_mpdf_pdf_set_title');
  if (isset($title) && $title != NULL) {
    $mpdf->SetTitle($title);
  }

  // Setting Author to PDF.
  $author = variable_get('pdf_using_mpdf_pdf_set_author');
  if (isset($author) && $author != NULL) {
    $mpdf->SetAuthor($author);
  }

  // Setting Subject to PDF.
  $subject = variable_get('pdf_using_mpdf_pdf_set_subject');
  if (isset($subject) && $subject != NULL) {
    $mpdf->SetSubject($subject);
  }

  // Setting creator to PDF.
  $creator = variable_get('pdf_using_mpdf_pdf_set_creator');
  if (isset($creator) && $creator != NULL) {
    $mpdf->SetCreator($creator);
  }

  // Setting Password to PDF.
  $password = variable_get('pdf_using_mpdf_pdf_password');
  if (isset($password) && $password != NULL) {
    // Print and Copy is allowed.
    $mpdf->SetProtection(['print', 'copy'], $password, $password);
  }

  // Setting CSS stylesheet to PDF.
  $stylesheet = variable_get('pdf_using_mpdf_pdf_css_file');
  $stylesheet_content = NULL;
  if (isset($stylesheet) && $stylesheet != NULL) {
    $css_file_module = file_scan_directory($module_path, '/.*\.css$/');
    $css_file_theme = file_scan_directory($theme_path, '/.*\.css$/');
    // Check module directory
    if (isset($css_file_module[$module_path . '/' . $stylesheet])) {
      $stylesheet_content = file_get_contents($module_path . '/' . $stylesheet);
      $mpdf->WriteHTML($stylesheet_content, 1);
    }
    // Check theme directory
    elseif (isset($css_file_theme[$theme_path . '/' . $stylesheet])) {
      $stylesheet_content = file_get_contents($theme_path . '/' . $stylesheet);
      $mpdf->WriteHTML($stylesheet_content, 1);
    }
    else {
      drupal_set_message(t('CSS style Sheet mentioned in PDF setting was not found.'), 'warning');
      return TRUE;
    }
  }

  // Writing html content for pdf buffer.
  $mpdf->WriteHTML($html);

  // Generating PDF File.
  switch (variable_get('pdf_using_mpdf_pdf_save_option')) {
    case 1:
      // Dialog box for Download as PDF.
      $mpdf->Output($filename . '.pdf', 'D');
      exit;
      break;
    case 2:
      $folder = pdf_using_mpdf_get_folder();
      if (is_dir(drupal_realpath($folder))) {
        if (!pdf_using_mpdf_is_writable(drupal_realpath($folder))) {
          die('not writtable');
          if (drupal_rmdir($folder)) {
            drupal_mkdir($folder);
            drupal_chmod($folder, 0777);
          }
          else {
            drupal_set_message(t("Please ensure that public folder is writable."));
            exit;
          }
        }
      }
      else {
        if (pdf_using_mpdf_is_writable(drupal_realpath(file_build_uri('public://')))) {
          drupal_mkdir($folder);
          drupal_chmod($folder, 0777);
        }
        else {
          drupal_set_message(t("Please ensure that public folder is writable."));
          exit;
        }
      }
      // Save to server 'Public file system path'.
      $path = $folder . '/' . $filename . '.pdf';
      $mpdf->Output($path, 'F');
      drupal_goto($_SERVER['HTTP_REFERER']);
      exit;
      break;
    case 0:
    default:
      // Open in same browser.
      $mpdf->Output($filename . '.pdf', 'I');
      exit;
      break;
  }

  return TRUE;
}